// using html javascript

<!DOCTYPE html>
<html>
<head>
    <title>Calculate Total Cost</title>
    <script>
        function calculateTotal() {
            var quantity = parseFloat(document.getElementById("quantity").value);
            var unitCost = parseFloat(document.getElementById("unitCost").value);
            var totalCost = quantity * unitCost;
            document.getElementById("totalCost").innerHTML = "Total Cost: $" + totalCost.toFixed(2);
        }
    </script>
</head>
<body>
    <h1>Calculate Total Cost</h1>
    <label for="quantity">Quantity:</label>
    <input type="number" id="quantity" step="0.01" min="0">
    <br>
    <label for="unitCost">Quantity per Unit Cost:</label>
    <input type="number" id="unitCost" step="0.01" min="0">
    <br>
    <button onclick="calculateTotal()">Calculate</button>
    <p id="totalCost"></p>
</body>
</html>

// CODE FOR STOCK DISPATCH REGISTER HTML AND PHP

//HTML

<!DOCTYPE html>
<html>
<head>
    <title>Stock Management</title>
</head>
<body>
    <h1>Stock Management</h1>
    <form method="post" action="update_stock.php">
        <label for="stock_id">Stock ID:</label>
        <input type="text" name="stock_id">
        <br>
        <label for="quantity">Quantity to Subtract:</label>
        <input type="number" name="quantity" step="1" min="1">
        <br>
        <input type="submit" value="Update Stock">
    </form>
</body>
</html>

//PHP

<?php
$servername = "your_server_name";
$username = "your_username";
$password = "your_password";
$dbname = "your_database_name";

$conn = new mysqli($servername, $username, $password, $dbname);

if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}

$stock_id = $_POST['stock_id'];
$quantity_to_subtract = intval($_POST['quantity']);

// Retrieve current quantity from the database
$query = "SELECT quantity FROM stock WHERE stock_id = $stock_id";
$result = $conn->query($query);
$row = $result->fetch_assoc();
$current_quantity = $row['quantity'];

if ($current_quantity >= $quantity_to_subtract) {
    // Perform subtraction
    $new_quantity = $current_quantity - $quantity_to_subtract;

    // Update database with new quantity
    $update_query = "UPDATE stock SET quantity = $new_quantity WHERE stock_id = $stock_id";
    $conn->query($update_query);

    echo "Stock quantity updated successfully.";
} else {
    echo "Insufficient stock quantity.";
}

$conn->close();
?>

